<%= turbo_stream.append :notification_frame, target: '.notification-frame' do %>
  <%= render partial: 'notifications/notification', collection: @notifications %>
<% end %>
<%= turbo_stream.append :notification_frame_index, target: '.notification-frame' do %>
  <%= render partial: 'notifications/notification', collection: @notifications %>
<% end %>
<%= turbo_stream.replace :pagination do %>
  <% if @pagy.next.present? %>
    <%= turbo_frame_tag :pagination,
      loading: :lazy, src: notifications_path(format: :turbo_stream, page: @pagy.next) do %>
      <%= render partial: 'shared/loader' %>
    <% end %>
  <% end %>
<% end %>
